{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithReDirection, signInWithPopup, GoogleAuthProvider } from 'firebase/auth';\nimport { getFirestore, doc, getDoc, setDoc } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCR8wdcaCzNTJHa9yoOST241p3hOOD8Fpo\",\n  authDomain: \"practice-shop-db-1ad74.firebaseapp.com\",\n  projectId: \"practice-shop-db-1ad74\",\n  storageBucket: \"practice-shop-db-1ad74.appspot.com\",\n  messagingSenderId: \"631247507579\",\n  appId: \"1:631247507579:web:cb6839dc34037bffbed2de\"\n};\nconst firebaseApp = initializeApp(firebaseConfig);\nconst GoogleProvider = new GoogleAuthProvider();\nexport const auth = getAuth();\nexport const signIn_GooglePopup = () => signInWithPopup(auth, GoogleProvider);\nexport const db = getFirestore();\nexport const setUserDbFromAuth = userAuth => {\n  const userRef = doc(db, 'users', userAuth.user.uid);\n  console.log(userRef);\n\n  const userSnapshot = async _ref => {\n    let {\n      uid,\n      email,\n      displayname\n    } = _ref;\n    const userDoc = await getDoc(userRef);\n    console.log(userDoc); // if(!userDoc.exists()) {\n    //     await setDoc(userDoc, {uid, email, displayname})\n    //     console.log(true);\n    // } else {\n    //     console.log(false);\n    // }        \n  };\n\n  userSnapshot(userRef);\n};","map":{"version":3,"names":["initializeApp","getAuth","signInWithReDirection","signInWithPopup","GoogleAuthProvider","getFirestore","doc","getDoc","setDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseApp","GoogleProvider","auth","signIn_GooglePopup","db","setUserDbFromAuth","userAuth","userRef","user","uid","console","log","userSnapshot","email","displayname","userDoc"],"sources":["/Users/5e9e/Desktop/projects/learn/react/capston/practice-shop/src/utils/firebase/firebase.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { \n    getAuth, \n    signInWithReDirection,\n    signInWithPopup,\n    GoogleAuthProvider } from 'firebase/auth'\n\nimport {\n    getFirestore,\n    doc,\n    getDoc,\n    setDoc, } from 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCR8wdcaCzNTJHa9yoOST241p3hOOD8Fpo\",\n    authDomain: \"practice-shop-db-1ad74.firebaseapp.com\",\n    projectId: \"practice-shop-db-1ad74\",\n    storageBucket: \"practice-shop-db-1ad74.appspot.com\",\n    messagingSenderId: \"631247507579\",\n    appId: \"1:631247507579:web:cb6839dc34037bffbed2de\"\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst GoogleProvider = new GoogleAuthProvider();\n\nexport const auth = getAuth();\nexport const signIn_GooglePopup = () => signInWithPopup(auth, GoogleProvider)\n\n\nexport const db = getFirestore();\n\nexport const setUserDbFromAuth = (userAuth) => {\n    const userRef = doc(db, 'users', userAuth.user.uid);\n    console.log(userRef);\n\n    const userSnapshot = async ({uid, email, displayname}) => {\n        const userDoc = await getDoc(userRef)\n        console.log(userDoc);\n        // if(!userDoc.exists()) {\n        //     await setDoc(userDoc, {uid, email, displayname})\n        //     console.log(true);\n        // } else {\n        //     console.log(false);\n        // }        \n    }\n\n    userSnapshot(userRef);\n}"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SACIC,OADJ,EAEIC,qBAFJ,EAGIC,eAHJ,EAIIC,kBAJJ,QAI8B,eAJ9B;AAMA,SACIC,YADJ,EAEIC,GAFJ,EAGIC,MAHJ,EAIIC,MAJJ,QAImB,oBAJnB;AAMA,MAAMC,cAAc,GAAG;EACnBC,MAAM,EAAE,yCADW;EAEnBC,UAAU,EAAE,wCAFO;EAGnBC,SAAS,EAAE,wBAHQ;EAInBC,aAAa,EAAE,oCAJI;EAKnBC,iBAAiB,EAAE,cALA;EAMnBC,KAAK,EAAE;AANY,CAAvB;AASA,MAAMC,WAAW,GAAGhB,aAAa,CAACS,cAAD,CAAjC;AAEA,MAAMQ,cAAc,GAAG,IAAIb,kBAAJ,EAAvB;AAEA,OAAO,MAAMc,IAAI,GAAGjB,OAAO,EAApB;AACP,OAAO,MAAMkB,kBAAkB,GAAG,MAAMhB,eAAe,CAACe,IAAD,EAAOD,cAAP,CAAhD;AAGP,OAAO,MAAMG,EAAE,GAAGf,YAAY,EAAvB;AAEP,OAAO,MAAMgB,iBAAiB,GAAIC,QAAD,IAAc;EAC3C,MAAMC,OAAO,GAAGjB,GAAG,CAACc,EAAD,EAAK,OAAL,EAAcE,QAAQ,CAACE,IAAT,CAAcC,GAA5B,CAAnB;EACAC,OAAO,CAACC,GAAR,CAAYJ,OAAZ;;EAEA,MAAMK,YAAY,GAAG,cAAqC;IAAA,IAA9B;MAACH,GAAD;MAAMI,KAAN;MAAaC;IAAb,CAA8B;IACtD,MAAMC,OAAO,GAAG,MAAMxB,MAAM,CAACgB,OAAD,CAA5B;IACAG,OAAO,CAACC,GAAR,CAAYI,OAAZ,EAFsD,CAGtD;IACA;IACA;IACA;IACA;IACA;EACH,CATD;;EAWAH,YAAY,CAACL,OAAD,CAAZ;AACH,CAhBM"},"metadata":{},"sourceType":"module"}